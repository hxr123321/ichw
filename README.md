# 作业3
### 详述通用的高速缓存存储器结构及工作原理
##### 结构
* 总的来说，高速缓存存储器由静态存储芯片（SRAM）组成。
* 具体来讲，高速缓存存储器由三大部分组成：  
① Cache存储体：存放由主存调入的指令与数据块  
② 地址转换部件：建立目录表以实现主存地址到缓存地址的转换  
③ 替换部件：在缓存已满时按一定策略进行数据块替换，并修改地址转换部件
* 从另一个角度来说，高速缓存存储器由高速存储器、联想存储器、替换逻辑电路和相应的控制线路组成。

#### 工作原理
* 高速存储器中有与计算机主存储器相同的列数和相同大小的组，但行数更少。联想存储器有与高速存储器相同行数和列数的存储单元。
* 当主存储器某一列某一行的存储单元组调入高速存储器同一列某一个空着的存储单元组时，与联想存储器对应位置的存储单元就记录调入的存储单元组在主存储器中的行号。
* 存取主存储器时，硬件会首先自动对存取地址的列号字段进行译码，然后将联想存储器该列的全部行号与主存储器地址的行号字段进行比较。
* 命中：若这两个行号有相同的，表明要存取的主存储器单元已经在高速存储器中，硬件就会将存取主存储器的地址映射为高速存储器的地址并执行存取操作。
* 脱靶：若都不相同，表明该单元不在高速存储器中，硬件将执行存取主存储器操作并自动将该单元所在的那一主存储器单元组调入高速存储器相同列空着的存储单元中，同时将该组在主存储器中的行号存入联想存储器对应位置的单元内。
* 替换：当出现脱靶而高速存储器对应列没有空的位置的时候，便淘汰该列中的某一组来为新调入的组腾出位置。替换算法是指替换的规则，常见的有：最近最少使用算法（LRU）、先进先出法（FIFO）和随机法（RAND），此过程由替换逻辑电路执行。
* 另外，为了保证主存储器和高速存储器内容一致，命中和脱靶需要分别处理。
